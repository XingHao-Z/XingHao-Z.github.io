---
title: （四）插件安装和其他设置
date: 2023-07-27 12:28:29
tags:
 - hexo
 - 博客
categories:
 - hexo+NexT博客搭建
---

介绍一些常用的插件，以及相关的设置

<!--more-->

# 前言

NexT中已经自带了许多插件，很多不需要额外安装，只需要在主题配置文件中设置一下即可。但还有一些好用的插件需要额外安装。



# 自带插件

## 显示数学公式

资料：[Math Equations|NexT](https://theme-next.js.org/docs/third-party-services/math-equations.html)

NexT 提供了两个用于显示数学公式的渲染引擎：[MathJax](https://www.mathjax.org/)和[KaTeX](https://katex.org/)

我选择了MathJax，虽然说的渲染速度慢一点，但兼容性很好。

KaTeX只支持LaTeX语法，重要的是在上面的资料中提到了KaTeX存在许多问题，比如使用行内公式，即使用`\$公式$`语法，前后除了空格不能有其他字符，但我使用行内公式就是为了将公式放入到文字中而不是单独使用一行。

要使用哪个渲染引擎首先在主题配置文件中修改，将对应的enable改为true：

![image-20230727115452110](image-20230727115452110.png)

`every_page`：设置为true，默认为每一个博客渲染数学公式；设置为false，只会为开头加了`mathjax: true`的博客渲染，如下

![image-20230727115655944](image-20230727115655944.png)

hexo自带了一个渲染器hexo-renderer-marked，但并不好用，很容易渲染错误。

NexT推荐使用hexo-renderer-pandoc

要使用这个首先要安装[pandoc](https://github.com/jgm/pandoc)

![image-20230727120948271](image-20230727120948271.png)

![image-20230727121030837](image-20230727121030837.png)

安装好后，在站点根目录打开Git bash，依次输入：

```
npm un hexo-renderer-marked
npm i hexo-renderer-pandoc
```

就可以正常使用了。

## 自动空格

主题配置文件：

![image-20230727123633622](image-20230727123633622.png)

设置后，会自动在连着的英语和中文之间添加空格。

## 搜索

在站点根目录下打开git bash执行

```
npm install hexo-generator-searchdb
```

打开站点配置文件，在最后**添加**以下代码

```yaml
search:
  path: search.xml
  field: post
  content: true
  format: html
```

打开主题配置文件，**修改**：

```yaml
# Local search
# Dependencies: https://github.com/next-theme/hexo-generator-searchdb
local_search:
  enable: true
  # If auto, trigger search by changing input.
  # If manual, trigger search by pressing enter key or search button.
  trigger: auto
  # Show top n results per article, show all results by setting to -1
  top_n_per_article: 1
  # Unescape html strings to the readable one.
  unescape: false
  # Preload the search data when the page loads.
  preload: false
```

